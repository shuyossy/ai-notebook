# 開発ガイドライン

## 実装アプローチ

### プロジェクト理解
1. **全体把握**: プロジェクト全体を理解してから必要箇所を洗い出し
2. **既存資源活用**: 型情報、コンポーネントなど既存コードを積極活用
3. **修正最小化**: 既存コードの修正は真に必要な場合に限定

### Mastra実装
1. **ドキュメント参照**: MCPでMastraドキュメント・実装例を必ず確認
2. **ベストプラクティス**: 正確な情報に基づいて実装
3. **プロンプト品質**: 経験豊富なプロンプトエンジニアレベルで英語作成

### UI実装
1. **品質基準**: 市場投入可能レベルのUI
2. **ライブラリ優先順位**: MUI第一優先 → shadcn/ui → カスタム実装
3. **ライブラリ選定**: 安定稼働バージョンを採用

## アーキテクチャ設計原則

### 状態管理パターン
- **ユーザー別状態**: クラス利用（将来のWebアプリ対応）
- **アプリ全体状態**: シングルトン変数・関数

### 型安全性
- **TypeScript厳密**: 型安全なコード必須
- **外部API**: zodスキーマでバリデーション必須
- **IPC通信**: 型定義による安全性確保

### コンポーネント設計
- **関数コンポーネント**: Arrow function推奨
- **プロップス**: デストラクチャリングでデフォルト値設定
- **再利用性**: common/ディレクトリで共通コンポーネント管理

## 品質基準

### コード品質
- **ESLint**: 単純フォーマットエラー無視、重要エラーは修正必須
- **TypeScript**: 型エラーゼロ必須
- **コメント**: 日本語でコード説明、英語でプロンプト

### テスト方針
- **基本方針**: 明確指示なしではテスト作成不要
- **テスト実行**: 指示されない限り実行・修正不要
- **テストスタイル**: 古典派（振る舞い単位）、日本語説明

### セキュリティ
- **秘匿情報**: シークレット・キーの露出・ログ出力禁止
- **コミット**: シークレット・キーのコミット禁止

## 開発効率化

### ファイル作成方針
- **新ファイル**: 絶対必要な場合のみ作成
- **既存ファイル編集**: 優先
- **ドキュメント**: 明確指示なしでは作成禁止

### ライブラリ利用
- **React**: 積極的にライブラリ活用
- **安定性**: stable版採用
- **依存関係**: package.jsonで事前確認

## 言語使用方針
- **プロンプト**: 英語（自然で一般的な表現）
- **コメント**: 日本語
- **UI文言**: 日本語（ユーザー向け）
- **ログメッセージ**: 英語または日本語